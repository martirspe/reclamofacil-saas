<main class="forgot-password-container">
  <header class="forgot-password-header">
    <div class="forgot-password-brand">
      <svg class="forgot-password-brand-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="12" y1="18" x2="12" y2="12"></line>
        <line x1="9" y1="15" x2="15" y2="15"></line>
      </svg>
      <span class="forgot-password-brand__text">ReclamoFácil</span>
    </div>
    <app-theme-toggle />
  </header>

  <article class="forgot-password-card">
    <h1 class="forgot-password-title">Restablecer contraseña</h1>
    <p class="forgot-password-subtitle">Recupera el acceso a tu cuenta</p>

    <form class="forgot-password-form" [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <div class="form-group">
        <label class="form-label" for="email">Correo electrónico</label>
        <div class="forgot-password-input">
          <span class="forgot-password-input-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </span>
          <input id="email" formControlName="email" type="email" class="form-input" placeholder="tu@email.com" autocomplete="email" required />
        </div>
        @if (emailControl.invalid && emailControl.touched) {
          <p class="form-error-message">
            @if (emailControl.hasError('required')) {
              <span>El correo electrónico es obligatorio</span>
            } @else if (emailControl.hasError('email')) {
              <span>Ingresa un correo electrónico válido</span>
            }
          </p>
        }
      </div>

      <button type="submit" class="btn btn-primary forgot-password-primary-btn" [disabled]="isSubmitting()">
        @if (isSubmitting()) {
          <span class="forgot-password-btn-loading">
            <svg class="spinner" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
            </svg>
          </span>
          <span>Enviando...</span>
        } @else {
          <span>Restablecer contraseña</span>
          <span class="forgot-password-btn-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </span>
        }
      </button>

      <button type="button" class="btn btn-outline forgot-password-back-btn" routerLink="/auth/login">
        <span class="forgot-password-btn-icon">
          <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
          </svg>
        </span>
        <span>Volver a inicio de sesión</span>
      </button>
    </form>
  </article>

  <footer class="forgot-password-footer">
    <p>&copy; 2026 ReclamoFácil</p>
  </footer>
</main>
