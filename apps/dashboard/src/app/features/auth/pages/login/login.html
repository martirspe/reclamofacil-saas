<main class="login-container">
  <header class="login-header">
    <div class="login-brand">
      <svg class="login-brand-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        aria-hidden="true">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="12" y1="18" x2="12" y2="12"></line>
        <line x1="9" y1="15" x2="15" y2="15"></line>
      </svg>
      <span class="login-brand__text">ReclamoFácil</span>
    </div>
    <app-theme-toggle></app-theme-toggle>
  </header>

  <article class="login-card" aria-labelledby="login-title">
    <h1 id="login-title" class="login-title">Iniciar sesión</h1>
    <p class="login-subtitle">Bienvenido de vuelta</p>

    <form class="login-form" [formGroup]="form" (ngSubmit)="submit()" autocomplete="on">
      <div class="form-group">
        <label class="form-label" for="email">Correo electrónico</label>
        <div class="login-input">
          <span class="login-input-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"></path>
              <path d="m22 8-10 6L2 8"></path>
            </svg>
          </span>
          <input id="email" formControlName="email" type="email" class="form-input" placeholder="tu@empresa.com" autocomplete="email" />
        </div>
        @if (emailControl.invalid && emailControl.touched) {
          <span class="form-error-message">
            @if (emailControl.hasError('required')) {
              El correo electrónico es requerido
            } @else if (emailControl.hasError('email')) {
              Ingresa un correo electrónico válido
            }
          </span>
        }
      </div>

      <div class="form-group">
        <div class="login-password-row">
          <label class="form-label" for="password">Contraseña</label>
          <a class="login-link" routerLink="/auth/forgot-password">¿Olvidaste tu contraseña?</a>
        </div>
        <div class="login-input login-input--with-action">
          <span class="login-input-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="11" width="18" height="10" rx="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
          </span>
          <input id="password" formControlName="password" [type]="showPassword() ? 'text' : 'password'" class="form-input" placeholder="••••••••"
            autocomplete="current-password" />
          <span class="login-input-action" aria-hidden="true" (click)="togglePassword()" role="button" tabindex="0" [attr.aria-label]="showPassword() ? 'Ocultar contraseña' : 'Mostrar contraseña'">
            @if (showPassword()) {
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                <line x1="2" x2="22" y1="2" y2="22"></line>
              </svg>
            } @else {
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M2 12s4-6 10-6 10 6 10 6-4 6-10 6S2 12 2 12Z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            }
          </span>
        </div>
        @if (passwordControl.invalid && passwordControl.touched) {
          <span class="form-error-message">
            @if (passwordControl.hasError('required')) {
              La contraseña es requerida
            } @else if (passwordControl.hasError('minlength')) {
              La contraseña debe tener al menos 8 caracteres
            }
          </span>
        }
      </div>

      <div class="form-group">
        <div class="login-checkbox-wrapper">
          <input id="remember" type="checkbox" formControlName="remember" class="form-checkbox" />
          <label class="login-checkbox-label" for="remember">
            <span class="login-checkbox-text">Recordarme</span>
          </label>
        </div>
      </div>

      <button type="submit" class="btn btn-primary login-primary-btn" [disabled]="isSubmitting()">
        @if (isSubmitting()) {
          <span class="login-btn-loading">
            <svg class="spinner" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" stroke-opacity="0.25"></circle>
              <path d="M12 2a10 10 0 0 1 10 10" stroke-linecap="round"></path>
            </svg>
          </span>
          <span>Iniciando sesión...</span>
        } @else {
          <span>Iniciar sesión</span>
          <span class="login-btn-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14"></path>
              <path d="m13 6 6 6-6 6"></path>
            </svg>
          </span>
        }
      </button>
    </form>

    <hr class="login-divider" />

    <button type="button" class="btn btn-outline login-google-btn">
      <span class="login-google-icon" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 0 24 24" width="18"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/><path d="M1 1h22v22H1z" fill="none"/></svg>
      </span>
      Continuar con Google
    </button>

    <p class="login-register">
      ¿No tienes cuenta? <a class="login-link" href="/auth/register">Regístrate</a>
    </p>
  </article>

  <footer class="login-footer">© 2026 ReclamoFácil</footer>
</main>