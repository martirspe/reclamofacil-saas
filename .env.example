# ============================================================================
# RECLAMOFÁCIL - Variables de Entorno (Monorepo) - PLANTILLA
# ============================================================================
# Este archivo es una plantilla. Para usarlo:
# 1. Copiar este archivo como .env: cp .env.example .env
# 2. Completar los valores marcados con [CAMBIAR]
# 3. Ajustar otros valores según tu entorno
#
# IMPORTANTE:
# - NO subir el archivo .env a Git
# - Cambiar TODOS los valores de seguridad en producción
# - Los valores aquí son solo ejemplos
# ============================================================================

# --- ENTORNO GENERAL ---
NODE_ENV=development

# --- URLS Y DOMINIOS ---
# URL del frontend (landing/dashboard)
FRONTEND_URL=http://localhost:4200

# URL de la API (para comunicación entre contenedores)
API_URL=http://api:3000

# Puerto expuesto de la API
API_PORT=3000

# --- CONFIGURACIÓN DEL SERVIDOR ---
# Forzar HTTPS en URLs de branding (true en producción)
FORCE_HTTPS=false

# Nivel de logs: trace | debug | info | warn | error
LOG_LEVEL=info

# Pretty print de logs (true en desarrollo, false en producción)
LOG_PRETTY=true

# Escribir logs a archivo
LOG_TO_FILE=false

# Sincronizar DB en cada inicio (SOLO desarrollo, NUNCA en producción)
FORCE_DB_SYNC=false

# --- BASE DE DATOS (MySQL) ---
DB_HOST=mysql
DB_PORT=3306
DB_NAME=reclamofacil_db
DB_USER=root
DB_PASSWORD=root

# --- REDIS (Caché y Sesiones) ---
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# --- EMAIL (SMTP) ---
# [CAMBIAR] Configuración de tu servidor SMTP
EMAIL_HOST=smtp.ejemplo.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=notificaciones@ejemplo.com
EMAIL_PASSWORD=[CAMBIAR]

# Email de notificaciones del tenant por defecto
DEFAULT_TENANT_CONTACT_EMAIL=soporte@ejemplo.com

# --- SEGURIDAD ---
# [CAMBIAR] Secret para JWT (mínimo 32 caracteres, usar generador)
JWT_SECRET=[CAMBIAR_SECRET_MINIMO_32_CARACTERES]

# --- reCAPTCHA v3 ---
# [CAMBIAR] Keys de Google reCAPTCHA v3 (obtener en https://www.google.com/recaptcha/admin)
RECAPTCHA_SECRET=[CAMBIAR_RECAPTCHA_SECRET_KEY]

# Umbral mínimo de score (0.0 a 1.0, recomendado: 0.5)
RECAPTCHA_MIN_SCORE=0.5

# Acción esperada desde el cliente
RECAPTCHA_EXPECTED_ACTION=claim_submit

# Hostnames permitidos (separados por coma)
RECAPTCHA_ALLOWED_HOSTNAMES=ejemplo.com,localhost

# --- CORS ---
# Orígenes permitidos (sin espacios después de comas)
ALLOWED_ORIGINS=http://localhost:4200,http://localhost:4201,http://localhost:4202

# --- USUARIOS INICIALES (Seeding) ---
# Crear superadmin al ejecutar seeds
CREATE_SUPERADMIN_ON_SEED=true

# [CAMBIAR] Superadmin (acceso total al sistema)
SUPERADMIN_EMAIL=superadmin@ejemplo.com
SUPERADMIN_PASSWORD=[CAMBIAR_PASSWORD_SEGURO]
SUPERADMIN_FIRST_NAME=Super
SUPERADMIN_LAST_NAME=Admin

# [CAMBIAR] Admin del tenant por defecto
ADMIN_EMAIL=admin@ejemplo.com
ADMIN_PASSWORD=[CAMBIAR_PASSWORD_SEGURO]
ADMIN_FIRST_NAME=Admin
ADMIN_LAST_NAME=User

# --- TENANT POR DEFECTO (Seeding) ---
# Plan inicial del tenant (free | starter | pro | enterprise)
DEFAULT_TENANT_PLAN_ON_SEED=pro

# [CAMBIAR] Información del tenant
TENANT_SLUG=default
TENANT_LEGAL_NAME=Mi Empresa S.A.C.
TENANT_BRAND_NAME=Mi Empresa
TENANT_TAX_ID=20123456789
TENANT_CONTACT_PHONE=+51 999 888 777
TENANT_ADDRESS=Av. Example 456, Lima, Perú
TENANT_COUNTRY=Perú
TENANT_INDUSTRY=Servicios
TENANT_CONTACT_EMAIL=contacto@ejemplo.com
TENANT_WEBSITE=https://ejemplo.com

# Branding del tenant
TENANT_PRIMARY_COLOR=#2563EB
TENANT_ACCENT_COLOR=#16A34A
TENANT_LOGO_LIGHT_URL=assets/default-tenant/logo-light.png
TENANT_LOGO_DARK_URL=assets/default-tenant/logo-dark.png
TENANT_FAVICON_URL=assets/default-tenant/favicon.png
TENANT_TERMS_URL=https://ejemplo.com/terminos
TENANT_PRIVACY_URL=https://ejemplo.com/privacidad

# --- SUSCRIPCIÓN POR DEFECTO (Seeding) ---
SUBSCRIPTION_PLAN=pro
SUBSCRIPTION_TRIAL_YEARS=1
SUBSCRIPTION_STATUS=active
SUBSCRIPTION_AUTO_RENEW=true

# --- API KEYS ---
# [CAMBIAR] API Key pública para public-form (generar con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
PUBLIC_API_KEY=[CAMBIAR_API_KEY_64_CARACTERES_HEX]

# --- WATCHER DE ARCHIVOS (Solo Desarrollo) ---
# Usar polling para detectar cambios en archivos (necesario en Docker)
CHOKIDAR_USEPOLLING=true
CHOKIDAR_INTERVAL=2000
